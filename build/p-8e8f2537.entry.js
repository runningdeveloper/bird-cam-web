import{r as t,h as i,H as n,e,j as r,i as o,c as s}from"./p-5439f137.js";import{b as a,g as h,n as l}from"./p-440b6983.js";import{g as c,a as d,c as u}from"./p-9114f801.js";import{e as p,f as g,b as f}from"./p-56dbf9e6.js";import{c as b,b as m,a as v,B as w}from"./p-9fd8d320.js";import"./p-7261e130.js";import{f as x,g as k,h as y}from"./p-b5e08c06.js";import{c as C,h as E}from"./p-5b51185b.js";import{c as R}from"./p-afc1a02c.js";const A=class{constructor(i){t(this,i)}render(){return i(n,null,i("ion-header",null,i("ion-toolbar",{color:"primary"},i("ion-buttons",{slot:"secondary"},i("ion-button",{href:"",fill:"solid"},"Detector")),i("ion-title",null,this.pageTitle))))}};A.style=":host{display:block}";var S=1e3,O=60*S,T=60*O,F=24*T,_=function(t,i){i=i||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(i){var n=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*F;case"hours":case"hour":case"hrs":case"hr":case"h":return n*T;case"minutes":case"minute":case"mins":case"min":case"m":return n*O;case"seconds":case"second":case"secs":case"sec":case"s":return n*S;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===n&&isFinite(t))return i.long?function(t){var i=Math.abs(t);return i>=F?N(t,i,F,"day"):i>=T?N(t,i,T,"hour"):i>=O?N(t,i,O,"minute"):i>=S?N(t,i,S,"second"):t+" ms"}(t):function(t){var i=Math.abs(t);return i>=F?Math.round(t/F)+"d":i>=T?Math.round(t/T)+"h":i>=O?Math.round(t/O)+"m":i>=S?Math.round(t/S)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function N(t,i,n,e){var r=i>=1.5*n;return Math.round(t/n)+" "+e+(r?"s":"")}var z=b((function(t,i){i.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},i.formatArgs=function(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;i.splice(1,0,n,"color: inherit");let e=0,r=0;i[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(e++,"%c"===t&&(r=e))}),i.splice(r,0,n)},i.save=function(t){try{t?i.storage.setItem("debug",t):i.storage.removeItem("debug")}catch(n){}},i.load=function(){let t;try{t=i.storage.getItem("debug")}catch(n){}return!t&&void 0!==a&&"env"in a&&(t=a.env.DEBUG),t},i.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},i.storage=function(){try{return localStorage}catch(t){}}(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=function(t){function i(t){let i=0;for(let n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return n.colors[Math.abs(i)%n.colors.length]}function n(t){let o;function s(...t){if(!s.enabled)return;const i=s,e=Number(new Date);i.diff=e-(o||e),i.prev=o,i.curr=e,o=e,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let r=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(e,o)=>{if("%%"===e)return e;r++;const s=n.formatters[o];return"function"==typeof s&&(e=s.call(i,t[r]),t.splice(r,1),r--),e}),n.formatArgs.call(i,t),(i.log||n.log).apply(i,t)}return s.namespace=t,s.enabled=n.enabled(t),s.useColors=n.useColors(),s.color=i(t),s.destroy=e,s.extend=r,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function e(){const t=n.instances.indexOf(this);return-1!==t&&(n.instances.splice(t,1),!0)}function r(t,i){const e=n(this.namespace+(void 0===i?":":i)+t);return e.log=this.log,e}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(t){return t instanceof Error?t.stack||t.message:t},n.disable=function(){const t=[...n.names.map(o),...n.skips.map(o).map(t=>"-"+t)].join(",");return n.enable(""),t},n.enable=function(t){let i;n.save(t),n.names=[],n.skips=[];const e=("string"==typeof t?t:"").split(/[\s,]+/),r=e.length;for(i=0;i<r;i++)e[i]&&("-"===(t=e[i].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(i=0;i<n.instances.length;i++){const t=n.instances[i];t.enabled=n.enabled(t.namespace)}},n.enabled=function(t){if("*"===t[t.length-1])return!0;let i,e;for(i=0,e=n.skips.length;i<e;i++)if(n.skips[i].test(t))return!1;for(i=0,e=n.names.length;i<e;i++)if(n.names[i].test(t))return!0;return!1},n.humanize=_,Object.keys(t).forEach(i=>{n[i]=t[i]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=i,n.enable(n.load()),n}(i);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}})),j=function(){if("undefined"==typeof window)return null;var t={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null},I=b((function(t,i){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=m.Buffer;function e(t,i){for(var n in t)i[n]=t[n]}function r(t,i,e){return n(t,i,e)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=m:(e(m,i),i.Buffer=r),r.prototype=Object.create(n.prototype),e(n,r),r.from=function(t,i,e){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,i,e)},r.alloc=function(t,i,e){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=n(t);return void 0!==i?"string"==typeof e?r.fill(i,e):r.fill(i):r.fill(0),r},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return m.SlowBuffer(t)}})),D=b((function(t){var i=I.Buffer,n=v.crypto||v.msCrypto;t.exports=n&&n.getRandomValues?function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(t);if(t>0)if(t>65536)for(var o=0;o<t;o+=65536)n.getRandomValues(r.slice(o,o+65536));else n.getRandomValues(r);return"function"==typeof e?a.nextTick((function(){e(null,r)})):r}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}));function M(){}function L(){L.init.call(this)}function P(t){return void 0===t._maxListeners?L.defaultMaxListeners:t._maxListeners}function G(t,i,n){if(i)t.call(n);else for(var e=t.length,r=V(t,e),o=0;o<e;++o)r[o].call(n)}function U(t,i,n,e){if(i)t.call(n,e);else for(var r=t.length,o=V(t,r),s=0;s<r;++s)o[s].call(n,e)}function Z(t,i,n,e,r){if(i)t.call(n,e,r);else for(var o=t.length,s=V(t,o),a=0;a<o;++a)s[a].call(n,e,r)}function Y(t,i,n,e,r,o){if(i)t.call(n,e,r,o);else for(var s=t.length,a=V(t,s),h=0;h<s;++h)a[h].call(n,e,r,o)}function B(t,i,n,e){if(i)t.apply(n,e);else for(var r=t.length,o=V(t,r),s=0;s<r;++s)o[s].apply(n,e)}function J(t,i,n,e){var r,o,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",i,n.listener?n.listener:n),o=t._events),s=o[i]):(o=t._events=new M,t._eventsCount=0),s){if("function"==typeof s?s=o[i]=e?[n,s]:[s,n]:e?s.unshift(n):s.push(n),!s.warned&&(r=P(t))&&r>0&&s.length>r){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+i+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=i,h.count=s.length,a=h,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=o[i]=n,++t._eventsCount;return t}function W(t,i,n){var e=!1;function r(){t.removeListener(i,r),e||(e=!0,n.apply(t,arguments))}return r.listener=n,r}function Q(t){var i=this._events;if(i){var n=i[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function V(t,i){for(var n=new Array(i);i--;)n[i]=t[i];return n}M.prototype=Object.create(null),L.EventEmitter=L,L.usingDomains=!1,L.prototype.domain=void 0,L.prototype._events=void 0,L.prototype._maxListeners=void 0,L.defaultMaxListeners=10,L.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new M,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},L.prototype.getMaxListeners=function(){return P(this)},L.prototype.emit=function(t){var i,n,e,r,o,s,a,h="error"===t;if(s=this._events)h=h&&null==s.error;else if(!h)return!1;if(a=this.domain,h){if(i=arguments[1],!a){if(i instanceof Error)throw i;var l=new Error('Uncaught, unspecified "error" event. ('+i+")");throw l.context=i,l}return i||(i=new Error('Uncaught, unspecified "error" event')),i.domainEmitter=this,i.domain=a,i.domainThrown=!1,a.emit("error",i),!1}if(!(n=s[t]))return!1;var c="function"==typeof n;switch(e=arguments.length){case 1:G(n,c,this);break;case 2:U(n,c,this,arguments[1]);break;case 3:Z(n,c,this,arguments[1],arguments[2]);break;case 4:Y(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(e-1),o=1;o<e;o++)r[o-1]=arguments[o];B(n,c,this,r)}return!0},L.prototype.on=L.prototype.addListener=function(t,i){return J(this,t,i,!1)},L.prototype.prependListener=function(t,i){return J(this,t,i,!0)},L.prototype.once=function(t,i){if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');return this.on(t,W(this,t,i)),this},L.prototype.prependOnceListener=function(t,i){if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,W(this,t,i)),this},L.prototype.removeListener=function(t,i){var n,e,r,o,s;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if(!(e=this._events))return this;if(!(n=e[t]))return this;if(n===i||n.listener&&n.listener===i)0==--this._eventsCount?this._events=new M:(delete e[t],e.removeListener&&this.emit("removeListener",t,n.listener||i));else if("function"!=typeof n){for(r=-1,o=n.length;o-- >0;)if(n[o]===i||n[o].listener&&n[o].listener===i){s=n[o].listener,r=o;break}if(r<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new M,this;delete e[t]}else!function(t,i){for(var n=i,e=n+1,r=t.length;e<r;n+=1,e+=1)t[n]=t[e];t.pop()}(n,r);e.removeListener&&this.emit("removeListener",t,s||i)}return this},L.prototype.removeAllListeners=function(t){var i,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new M,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new M:delete n[t]),this;if(0===arguments.length){for(var e,r=Object.keys(n),o=0;o<r.length;++o)"removeListener"!==(e=r[o])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=new M,this._eventsCount=0,this}if("function"==typeof(i=n[t]))this.removeListener(t,i);else if(i)do{this.removeListener(t,i[i.length-1])}while(i[0]);return this},L.prototype.listeners=function(t){var i,n=this._events;return n&&(i=n[t])?"function"==typeof i?[i.listener||i]:function(t){for(var i=new Array(t.length),n=0;n<i.length;++n)i[n]=t[n].listener||t[n];return i}(i):[]},L.listenerCount=function(t,i){return"function"==typeof t.listenerCount?t.listenerCount(i):Q.call(t,i)},L.prototype.listenerCount=Q,L.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};const H="function"==typeof Object.create?function(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t};var X=/%[sdj%]/g;function q(t){if(!lt(t)){for(var i=[],n=0;n<arguments.length;n++)i.push(it(arguments[n]));return i.join(" ")}n=1;for(var e=arguments,r=e.length,o=String(t).replace(X,(function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(e[n++]);case"%d":return Number(e[n++]);case"%j":try{return JSON.stringify(e[n++])}catch(i){return"[Circular]"}default:return t}})),s=e[n];n<r;s=e[++n])ht(s)||!ut(s)?o+=" "+s:o+=" "+it(s);return o}function $(t,i){if(ct(h.process))return function(){return $(t,i).apply(this,arguments)};if(!0===a.noDeprecation)return t;var n=!1;return function(){if(!n){if(a.throwDeprecation)throw new Error(i);a.traceDeprecation?console.trace(i):console.error(i),n=!0}return t.apply(this,arguments)}}var K,tt={};function it(t,i){var n={seen:[],stylize:et};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),at(i)?n.showHidden=i:i&&mt(n,i),ct(n.showHidden)&&(n.showHidden=!1),ct(n.depth)&&(n.depth=2),ct(n.colors)&&(n.colors=!1),ct(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=nt),rt(n,t,n.depth)}function nt(t,i){var n=it.styles[i];return n?"["+it.colors[n][0]+"m"+t+"["+it.colors[n][1]+"m":t}function et(t){return t}function rt(t,i,n){if(t.customInspect&&i&&ft(i.inspect)&&i.inspect!==it&&(!i.constructor||i.constructor.prototype!==i)){var e=i.inspect(n,t);return lt(e)||(e=rt(t,e,n)),e}var r=function(t,i){if(ct(i))return t.stylize("undefined","undefined");if(lt(i)){var n="'"+JSON.stringify(i).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return"number"==typeof i?t.stylize(""+i,"number"):at(i)?t.stylize(""+i,"boolean"):ht(i)?t.stylize("null","null"):void 0}(t,i);if(r)return r;var o=Object.keys(i),s=function(t){var i={};return t.forEach((function(t){i[t]=!0})),i}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(i)),gt(i)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return ot(i);if(0===o.length){if(ft(i))return t.stylize("[Function"+(i.name?": "+i.name:"")+"]","special");if(dt(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(pt(i))return t.stylize(Date.prototype.toString.call(i),"date");if(gt(i))return ot(i)}var a,h="",l=!1,c=["{","}"];return Array.isArray(i)&&(l=!0,c=["[","]"]),ft(i)&&(h=" [Function"+(i.name?": "+i.name:"")+"]"),dt(i)&&(h=" "+RegExp.prototype.toString.call(i)),pt(i)&&(h=" "+Date.prototype.toUTCString.call(i)),gt(i)&&(h=" "+ot(i)),0!==o.length||l&&0!=i.length?n<0?dt(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special"):(t.seen.push(i),a=l?function(t,i,n,e,r){for(var o=[],s=0,a=i.length;s<a;++s)vt(i,String(s))?o.push(st(t,i,n,e,String(s),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(st(t,i,n,e,r,!0))})),o}(t,i,n,s,o):o.map((function(e){return st(t,i,n,s,e,l)})),t.seen.pop(),function(t,i,n){return t.reduce((function(t,i){return i.indexOf("\n"),t+i.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===i?"":i+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+i+" "+t.join(", ")+" "+n[1]}(a,h,c)):c[0]+h+c[1]}function ot(t){return"["+Error.prototype.toString.call(t)+"]"}function st(t,i,n,e,r,o){var s,a,h;if((h=Object.getOwnPropertyDescriptor(i,r)||{value:i[r]}).get?a=t.stylize(h.set?"[Getter/Setter]":"[Getter]","special"):h.set&&(a=t.stylize("[Setter]","special")),vt(e,r)||(s="["+r+"]"),a||(t.seen.indexOf(h.value)<0?(a=ht(n)?rt(t,h.value,null):rt(t,h.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),ct(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function at(t){return"boolean"==typeof t}function ht(t){return null===t}function lt(t){return"string"==typeof t}function ct(t){return void 0===t}function dt(t){return ut(t)&&"[object RegExp]"===bt(t)}function ut(t){return"object"==typeof t&&null!==t}function pt(t){return ut(t)&&"[object Date]"===bt(t)}function gt(t){return ut(t)&&("[object Error]"===bt(t)||t instanceof Error)}function ft(t){return"function"==typeof t}function bt(t){return Object.prototype.toString.call(t)}function mt(t,i){if(!i||!ut(i))return t;for(var n=Object.keys(i),e=n.length;e--;)t[n[e]]=i[n[e]];return t}function vt(t,i){return Object.prototype.hasOwnProperty.call(t,i)}function wt(){this.head=null,this.tail=null,this.length=0}it.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},it.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},wt.prototype.push=function(t){var i={data:t,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},wt.prototype.unshift=function(t){var i={data:t,next:this.head};0===this.length&&(this.tail=i),this.head=i,++this.length},wt.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},wt.prototype.clear=function(){this.head=this.tail=null,this.length=0},wt.prototype.join=function(t){if(0===this.length)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=t+i.data;return n},wt.prototype.concat=function(t){if(0===this.length)return w.alloc(0);if(1===this.length)return this.head.data;for(var i=w.allocUnsafe(t>>>0),n=this.head,e=0;n;)n.data.copy(i,e),e+=n.data.length,n=n.next;return i};var xt=I.Buffer,kt=xt.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},yt=Ct;function Ct(t){var i;switch(this.encoding=function(t){var i=function(t){if(!t)return"utf8";for(var i;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(i)return;t=(""+t).toLowerCase(),i=!0}}(t);if("string"!=typeof i&&(xt.isEncoding===kt||!kt(t)))throw new Error("Unknown encoding: "+t);return i||t}(t),this.encoding){case"utf16le":this.text=At,this.end=St,i=4;break;case"utf8":this.fillLast=Rt,i=4;break;case"base64":this.text=Ot,this.end=Tt,i=3;break;default:return this.write=Ft,void(this.end=_t)}this.lastNeed=0,this.lastTotal=0,this.lastChar=xt.allocUnsafe(i)}function Et(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function Rt(t){var i=this.lastTotal-this.lastNeed,n=function(t,i){if(128!=(192&i[0]))return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&i.length>1){if(128!=(192&i[1]))return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&i.length>2&&128!=(192&i[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,i,0,t.length),void(this.lastNeed-=t.length))}function At(t,i){if((t.length-i)%2==0){var n=t.toString("utf16le",i);if(n){var e=n.charCodeAt(n.length-1);if(e>=55296&&e<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",i,t.length-1)}function St(t){var i=t&&t.length?this.write(t):"";return this.lastNeed?i+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):i}function Ot(t,i){var n=(t.length-i)%3;return 0===n?t.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",i,t.length-n))}function Tt(t){var i=t&&t.length?this.write(t):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function Ft(t){return t.toString(this.encoding)}function _t(t){return t&&t.length?this.write(t):""}Ct.prototype.write=function(t){if(0===t.length)return"";var i,n;if(this.lastNeed){if(void 0===(i=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?i?i+this.text(t,n):this.text(t,n):i||""},Ct.prototype.end=function(t){var i=t&&t.length?this.write(t):"";return this.lastNeed?i+"ï¿½":i},Ct.prototype.text=function(t,i){var n=function(t,i,n){var e=i.length-1;if(e<n)return 0;var r=Et(i[e]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--e<n||-2===r?0:(r=Et(i[e]))>=0?(r>0&&(t.lastNeed=r-2),r):--e<n||-2===r?0:(r=Et(i[e]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,i);if(!this.lastNeed)return t.toString("utf8",i);this.lastTotal=n;var e=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,e),t.toString("utf8",i,e)},Ct.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},It.ReadableState=jt;var Nt,zt=(Nt="stream",ct(K)&&(K=a.env.NODE_DEBUG||""),Nt=Nt.toUpperCase(),tt[Nt]||(tt[Nt]=new RegExp("\\b"+Nt+"\\b","i").test(K)?function(){var t=q.apply(null,arguments);console.error("%s %d: %s",Nt,0,t)}:function(){}),tt[Nt]);function jt(t,i){this.objectMode=!!(t=t||{}).objectMode,i instanceof hi&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark;this.highWaterMark=n||0===n?n:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new yt(t.encoding),this.encoding=t.encoding)}function It(t){if(!(this instanceof It))return new It(t);this._readableState=new jt(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),L.call(this)}function Dt(t,i,n,e,r){var o=function(t,i){var n=null;return w.isBuffer(i)||"string"==typeof i||null==i||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(i,n);if(o)t.emit("error",o);else if(null===n)i.reading=!1,function(t,i){if(!i.ended){if(i.decoder){var n=i.decoder.end();n&&n.length&&(i.buffer.push(n),i.length+=i.objectMode?1:n.length)}i.ended=!0,Lt(t)}}(t,i);else if(i.objectMode||n&&n.length>0)if(i.ended&&!r){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(i.endEmitted&&r){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var h;!i.decoder||r||e||(n=i.decoder.write(n),h=!i.objectMode&&0===n.length),r||(i.reading=!1),h||(i.flowing&&0===i.length&&!i.sync?(t.emit("data",n),t.read(0)):(i.length+=i.objectMode?1:n.length,r?i.buffer.unshift(n):i.buffer.push(n),i.needReadable&&Lt(t))),function(t,i){i.readingMore||(i.readingMore=!0,l(Gt,t,i))}(t,i)}else r||(i.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(i)}function Mt(t,i){return t<=0||0===i.length&&i.ended?0:i.objectMode?1:t!=t?i.flowing&&i.length?i.buffer.head.data.length:i.length:(t>i.highWaterMark&&(i.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=i.length?t:i.ended?i.length:(i.needReadable=!0,0))}function Lt(t){var i=t._readableState;i.needReadable=!1,i.emittedReadable||(zt("emitReadable",i.flowing),i.emittedReadable=!0,i.sync?l(Pt,t):Pt(t))}function Pt(t){zt("emit readable"),t.emit("readable"),Yt(t)}function Gt(t,i){for(var n=i.length;!i.reading&&!i.flowing&&!i.ended&&i.length<i.highWaterMark&&(zt("maybeReadMore read 0"),t.read(0),n!==i.length);)n=i.length;i.readingMore=!1}function Ut(t){zt("readable nexttick read 0"),t.read(0)}function Zt(t,i){i.reading||(zt("resume read 0"),t.read(0)),i.resumeScheduled=!1,i.awaitDrain=0,t.emit("resume"),Yt(t),i.flowing&&!i.reading&&t.read(0)}function Yt(t){var i=t._readableState;for(zt("flow",i.flowing);i.flowing&&null!==t.read(););}function Bt(t,i){return 0===i.length?null:(i.objectMode?n=i.buffer.shift():!t||t>=i.length?(n=i.decoder?i.buffer.join(""):1===i.buffer.length?i.buffer.head.data:i.buffer.concat(i.length),i.buffer.clear()):n=function(t,i,n){var e;return t<i.head.data.length?(e=i.head.data.slice(0,t),i.head.data=i.head.data.slice(t)):e=t===i.head.data.length?i.shift():n?function(t,i){var n=i.head,e=1,r=n.data;for(t-=r.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(r+=s===o.length?o:o.slice(0,t),0==(t-=s)){s===o.length?(++e,i.head=n.next?n.next:i.tail=null):(i.head=n,n.data=o.slice(s));break}++e}return i.length-=e,r}(t,i):function(t,i){var n=w.allocUnsafe(t),e=i.head,r=1;for(e.data.copy(n),t-=e.data.length;e=e.next;){var o=e.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++r,i.head=e.next?e.next:i.tail=null):(i.head=e,e.data=o.slice(s));break}++r}return i.length-=r,n}(t,i),e}(t,i.buffer,i.decoder),n);var n}function Jt(t){var i=t._readableState;if(i.length>0)throw new Error('"endReadable()" called on non-empty stream');i.endEmitted||(i.ended=!0,l(Wt,i,t))}function Wt(t,i){t.endEmitted||0!==t.length||(t.endEmitted=!0,i.readable=!1,i.emit("end"))}function Qt(t,i){for(var n=0,e=t.length;n<e;n++)if(t[n]===i)return n;return-1}function Vt(){}function Ht(t,i,n){this.chunk=t,this.encoding=i,this.callback=n,this.next=null}function Xt(t,i){Object.defineProperty(this,"buffer",{get:$((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),this.objectMode=!!(t=t||{}).objectMode,i instanceof hi&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark;this.highWaterMark=n||0===n?n:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,i){var n=t._writableState,e=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),i)!function(t,i,n,e,r){--i.pendingcb,n?l(r,e):r(e),t._writableState.errorEmitted=!0,t.emit("error",e)}(t,n,e,i,r);else{var o=ii(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||ti(t,n),e?l(Kt,t,n,o,r):Kt(t,n,o,r)}}(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ri(this)}function qt(t){if(!(this instanceof qt||this instanceof hi))return new qt(t);this._writableState=new Xt(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),L.call(this)}function $t(t,i,n,e,r,o,s){i.writelen=e,i.writecb=s,i.writing=!0,i.sync=!0,n?t._writev(r,i.onwrite):t._write(r,o,i.onwrite),i.sync=!1}function Kt(t,i,n,e){n||function(t,i){0===i.length&&i.needDrain&&(i.needDrain=!1,t.emit("drain"))}(t,i),i.pendingcb--,e(),ei(t,i)}function ti(t,i){i.bufferProcessing=!0;var n=i.bufferedRequest;if(t._writev&&n&&n.next){var e=new Array(i.bufferedRequestCount),r=i.corkedRequestsFree;r.entry=n;for(var o=0;n;)e[o]=n,n=n.next,o+=1;$t(t,i,!0,i.length,e,"",r.finish),i.pendingcb++,i.lastBufferedRequest=null,r.next?(i.corkedRequestsFree=r.next,r.next=null):i.corkedRequestsFree=new ri(i)}else{for(;n;){var s=n.chunk;if($t(t,i,!1,i.objectMode?1:s.length,s,n.encoding,n.callback),n=n.next,i.writing)break}null===n&&(i.lastBufferedRequest=null)}i.bufferedRequestCount=0,i.bufferedRequest=n,i.bufferProcessing=!1}function ii(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function ni(t,i){i.prefinished||(i.prefinished=!0,t.emit("prefinish"))}function ei(t,i){var n=ii(i);return n&&(0===i.pendingcb?(ni(t,i),i.finished=!0,t.emit("finish")):ni(t,i)),n}function ri(t){var i=this;this.next=null,this.entry=null,this.finish=function(n){var e=i.entry;for(i.entry=null;e;){var r=e.callback;t.pendingcb--,r(n),e=e.next}t.corkedRequestsFree?t.corkedRequestsFree.next=i:t.corkedRequestsFree=i}}H(It,L),It.prototype.push=function(t,i){var n=this._readableState;return n.objectMode||"string"!=typeof t||(i=i||n.defaultEncoding)!==n.encoding&&(t=w.from(t,i),i=""),Dt(this,n,t,i,!1)},It.prototype.unshift=function(t){return Dt(this,this._readableState,t,"",!0)},It.prototype.isPaused=function(){return!1===this._readableState.flowing},It.prototype.setEncoding=function(t){return this._readableState.decoder=new yt(t),this._readableState.encoding=t,this},It.prototype.read=function(t){zt("read",t),t=parseInt(t,10);var i=this._readableState,n=t;if(0!==t&&(i.emittedReadable=!1),0===t&&i.needReadable&&(i.length>=i.highWaterMark||i.ended))return zt("read: emitReadable",i.length,i.ended),0===i.length&&i.ended?Jt(this):Lt(this),null;if(0===(t=Mt(t,i))&&i.ended)return 0===i.length&&Jt(this),null;var e,r=i.needReadable;return zt("need readable",r),(0===i.length||i.length-t<i.highWaterMark)&&zt("length less than watermark",r=!0),i.ended||i.reading?zt("reading or ended",r=!1):r&&(zt("do read"),i.reading=!0,i.sync=!0,0===i.length&&(i.needReadable=!0),this._read(i.highWaterMark),i.sync=!1,i.reading||(t=Mt(n,i))),null===(e=t>0?Bt(t,i):null)?(i.needReadable=!0,t=0):i.length-=t,0===i.length&&(i.ended||(i.needReadable=!0),n!==t&&i.ended&&Jt(this)),null!==e&&this.emit("data",e),e},It.prototype._read=function(){this.emit("error",new Error("not implemented"))},It.prototype.pipe=function(t,i){var n=this,e=this._readableState;switch(e.pipesCount){case 0:e.pipes=t;break;case 1:e.pipes=[e.pipes,t];break;default:e.pipes.push(t)}e.pipesCount+=1,zt("pipe count=%d opts=%j",e.pipesCount,i);var r=i&&!1===i.end?c:s;function o(t){zt("onunpipe"),t===n&&c()}function s(){zt("onend"),t.end()}e.endEmitted?l(r):n.once("end",r),t.on("unpipe",o);var a=function(t){return function(){var i=t._readableState;zt("pipeOnDrain",i.awaitDrain),i.awaitDrain&&i.awaitDrain--,0===i.awaitDrain&&t.listeners("data").length&&(i.flowing=!0,Yt(t))}}(n);t.on("drain",a);var h=!1;function c(){zt("cleanup"),t.removeListener("close",g),t.removeListener("finish",f),t.removeListener("drain",a),t.removeListener("error",p),t.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",c),n.removeListener("data",u),h=!0,!e.awaitDrain||t._writableState&&!t._writableState.needDrain||a()}var d=!1;function u(i){zt("ondata"),d=!1,!1!==t.write(i)||d||((1===e.pipesCount&&e.pipes===t||e.pipesCount>1&&-1!==Qt(e.pipes,t))&&!h&&(zt("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function p(i){zt("onerror",i),b(),t.removeListener("error",p),0===t.listeners("error").length&&t.emit("error",i)}function g(){t.removeListener("finish",f),b()}function f(){zt("onfinish"),t.removeListener("close",g),b()}function b(){zt("unpipe"),n.unpipe(t)}return n.on("data",u),function(t,i,n){if("function"==typeof t.prependListener)return t.prependListener("error",n);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on("error",n)}(t,0,p),t.once("close",g),t.once("finish",f),t.emit("pipe",n),e.flowing||(zt("pipe resume"),n.resume()),t},It.prototype.unpipe=function(t){var i=this._readableState;if(0===i.pipesCount)return this;if(1===i.pipesCount)return t&&t!==i.pipes||(t||(t=i.pipes),i.pipes=null,i.pipesCount=0,i.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var n=i.pipes,e=i.pipesCount;i.pipes=null,i.pipesCount=0,i.flowing=!1;for(var r=0;r<e;r++)n[r].emit("unpipe",this);return this}var o=Qt(i.pipes,t);return-1===o||(i.pipes.splice(o,1),i.pipesCount-=1,1===i.pipesCount&&(i.pipes=i.pipes[0]),t.emit("unpipe",this)),this},It.prototype.addListener=It.prototype.on=function(t,i){var n=L.prototype.on.call(this,t,i);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var e=this._readableState;e.endEmitted||e.readableListening||(e.readableListening=e.needReadable=!0,e.emittedReadable=!1,e.reading?e.length&&Lt(this):l(Ut,this))}return n},It.prototype.resume=function(){var t=this._readableState;return t.flowing||(zt("resume"),t.flowing=!0,function(t,i){i.resumeScheduled||(i.resumeScheduled=!0,l(Zt,t,i))}(this,t)),this},It.prototype.pause=function(){return zt("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(zt("pause"),this._readableState.flowing=!1,this.emit("pause")),this},It.prototype.wrap=function(t){var i=this._readableState,n=!1,e=this;for(var r in t.on("end",(function(){if(zt("wrapped end"),i.decoder&&!i.ended){var t=i.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){zt("wrapped data"),i.decoder&&(r=i.decoder.write(r)),i.objectMode&&null==r||(i.objectMode||r&&r.length)&&(e.push(r)||(n=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(i){return function(){return t[i].apply(t,arguments)}}(r));return function(i){for(var n=0,r=i.length;n<r;n++)t.on(o=i[n],e.emit.bind(e,o));var o}(["error","close","destroy","pause","resume"]),e._read=function(i){zt("wrapped _read",i),n&&(n=!1,t.resume())},e},It._fromList=Bt,qt.WritableState=Xt,H(qt,L),Xt.prototype.getBuffer=function(){for(var t=this.bufferedRequest,i=[];t;)i.push(t),t=t.next;return i},qt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},qt.prototype.write=function(t,i,n){var e=this._writableState,r=!1;return"function"==typeof i&&(n=i,i=null),w.isBuffer(t)?i="buffer":i||(i=e.defaultEncoding),"function"!=typeof n&&(n=Vt),e.ended?function(t,i){var n=new Error("write after end");t.emit("error",n),l(i,n)}(this,n):function(t,i,n,e){var r=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):w.isBuffer(n)||"string"==typeof n||void 0===n||i.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),l(e,o),r=!1),r}(this,e,t,n)&&(e.pendingcb++,r=function(t,i,n,e,r){n=function(t,i,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof i||(i=w.from(i,n)),i}(i,n,e),w.isBuffer(n)&&(e="buffer");var o=i.objectMode?1:n.length;i.length+=o;var s=i.length<i.highWaterMark;if(s||(i.needDrain=!0),i.writing||i.corked){var a=i.lastBufferedRequest;i.lastBufferedRequest=new Ht(n,e,r),a?a.next=i.lastBufferedRequest:i.bufferedRequest=i.lastBufferedRequest,i.bufferedRequestCount+=1}else $t(t,i,!1,o,n,e,r);return s}(this,e,t,i,n)),r},qt.prototype.cork=function(){this._writableState.corked++},qt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||ti(this,t))},qt.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},qt.prototype._write=function(t,i,n){n(new Error("not implemented"))},qt.prototype._writev=null,qt.prototype.end=function(t,i,n){var e=this._writableState;"function"==typeof t?(n=t,t=null,i=null):"function"==typeof i&&(n=i,i=null),null!=t&&this.write(t,i),e.corked&&(e.corked=1,this.uncork()),e.ending||e.finished||function(t,i,n){i.ending=!0,ei(t,i),n&&(i.finished?l(n):t.once("finish",n)),i.ended=!0,t.writable=!1}(this,e,n)},H(hi,It);for(var oi=Object.keys(qt.prototype),si=0;si<oi.length;si++){var ai=oi[si];hi.prototype[ai]||(hi.prototype[ai]=qt.prototype[ai])}function hi(t){if(!(this instanceof hi))return new hi(t);It.call(this,t),qt.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",li)}function li(){this.allowHalfOpen||this._writableState.ended||l(ci,this)}function ci(t){t.end()}function di(t){this.afterTransform=function(i,n){return function(t,i,n){var e=t._transformState;e.transforming=!1;var r=e.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));e.writechunk=null,e.writecb=null,null!=n&&t.push(n),r(i);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,i,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function ui(t){if(!(this instanceof ui))return new ui(t);hi.call(this,t),this._transformState=new di(this);var i=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(t){pi(i,t)})):pi(i)}))}function pi(t,i){if(i)return t.emit("error",i);var n=t._transformState;if(t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}function gi(t){if(!(this instanceof gi))return new gi(t);ui.call(this,t)}function fi(){L.call(this)}
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let bi;H(ui,hi),ui.prototype.push=function(t,i){return this._transformState.needTransform=!1,hi.prototype.push.call(this,t,i)},ui.prototype._transform=function(){throw new Error("Not implemented")},ui.prototype._write=function(t,i,n){var e=this._transformState;if(e.writecb=n,e.writechunk=t,e.writeencoding=i,!e.transforming){var r=this._readableState;(e.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},ui.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},H(gi,ui),gi.prototype._transform=function(t,i,n){n(null,t)},H(fi,L),fi.Readable=It,fi.Writable=qt,fi.Duplex=hi,fi.Transform=ui,fi.PassThrough=gi,fi.Stream=fi,fi.prototype.pipe=function(t,i){var n=this;function e(i){t.writable&&!1===t.write(i)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",e),t.on("drain",r),t._isStdio||i&&!1===i.end||(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(l(),0===L.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",e),t.removeListener("drain",r),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",h),t.removeListener("error",h),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",h),t.on("error",h),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t};var mi="function"==typeof queueMicrotask?queueMicrotask:t=>(bi||(bi=Promise.resolve())).then(t).catch(t=>setTimeout(()=>{throw t},0))
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */,vi=z("simple-peer");function wi(t){return t.replace(/a=ice-options:trickle\s\n/g,"")}function xi(t,i){return"string"==typeof t&&(t=new Error(t)),t.error instanceof Error&&(t=t.error),t.code=i,t}class ki extends fi.Duplex{constructor(t){if(super(t=Object.assign({allowHalfOpen:!1},t)),this._id=D(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||D(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||ki.channelConfig,this.negotiated=this.channelConfig.negotiated,this.config=Object.assign({},ki.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(t=>t),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=void 0===t.trickle||t.trickle,this.allowHalfTrickle=void 0!==t.allowHalfTrickle&&t.allowHalfTrickle,this.iceCompleteTimeout=t.iceCompleteTimeout||5e3,this.destroyed=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&"object"==typeof t.wrtc?t.wrtc:j(),!this._wrtc)throw"undefined"==typeof window?xi("No WebRTC support: Specify `opts.wrtc` option in this environment","ERR_WEBRTC_SUPPORT"):xi("No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!this.negotiated&&!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(i){return void mi(()=>this.destroy(xi(i,"ERR_PC_CONSTRUCTOR")))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=t=>{this._onIceCandidate(t)},this.initiator||this.negotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=t=>{this._setupData(t)},this.streams&&this.streams.forEach(t=>{this.addStream(t)}),this._pc.ontrack=t=>{this._onTrack(t)},this.initiator&&this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(this.destroyed)throw xi("cannot signal after peer is destroyed","ERR_SIGNALING");if("string"==typeof t)try{t=JSON.parse(t)}catch(i){t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(t=>{this._addIceCandidate(t)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(t=>{this.destroy(xi(t,"ERR_SET_REMOTE_DESCRIPTION"))}),t.sdp||t.candidate||t.renegotiate||t.transceiverRequest||this.destroy(xi("signal() called with invalid signal data","ERR_SIGNALING"))}_addIceCandidate(t){var i=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(i).catch(t=>{!i.address||i.address.endsWith(".local")?console.warn("Ignoring unsupported ICE candidate."):this.destroy(xi(t,"ERR_ADD_ICE_CANDIDATE"))})}send(t){this._channel.send(t)}addTransceiver(t,i){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,i),this._needsNegotiation()}catch(n){this.destroy(xi(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:t,init:i}})}addStream(t){this._debug("addStream()"),t.getTracks().forEach(i=>{this.addTrack(i,t)})}addTrack(t,i){this._debug("addTrack()");var n=this._senderMap.get(t)||new Map,e=n.get(i);if(e)throw e.removed?xi("Track has been removed. You should enable/disable tracks that you want to re-add.","ERR_SENDER_REMOVED"):xi("Track has already been added to that stream.","ERR_SENDER_ALREADY_ADDED");e=this._pc.addTrack(t,i),n.set(i,e),this._senderMap.set(t,n),this._needsNegotiation()}replaceTrack(t,i,n){this._debug("replaceTrack()");var e=this._senderMap.get(t),r=e?e.get(n):null;if(!r)throw xi("Cannot replace track that was never added.","ERR_TRACK_NOT_ADDED");i&&this._senderMap.set(i,e),null!=r.replaceTrack?r.replaceTrack(i):this.destroy(xi("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,i){this._debug("removeSender()");var n=this._senderMap.get(t),e=n?n.get(i):null;if(!e)throw xi("Cannot remove track that was never added.","ERR_TRACK_NOT_ADDED");try{e.removed=!0,this._pc.removeTrack(e)}catch(r){"NS_ERROR_UNEXPECTED"===r.name?this._sendersAwaitingStable.push(e):this.destroy(xi(r,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){this._debug("removeSenders()"),t.getTracks().forEach(i=>{this.removeTrack(i,t)})}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,mi(()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()}))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}destroy(t){this._destroy(t,()=>{})}_destroy(t,i){if(!this.destroyed){if(this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(t){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(t){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),i()}}_setupData(t){if(!t.channel)return this.destroy(xi("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=65536),this.channelName=this._channel.label,this._channel.onmessage=t=>{this._onChannelMessage(t)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=t=>{this.destroy(xi(t,"ERR_DATA_CHANNEL"))};var i=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(i&&this._onChannelClose(),i=!0):i=!1},5e3)}_read(){}_write(t,i,n){if(this.destroyed)return n(xi("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(e){return this.destroy(xi(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=t,this._cb=n}_onFinish(){if(this.destroyed)return;const t=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(t.sdp=wi(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const i=()=>{if(!this.destroyed){var i=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:i.type,sdp:i.sdp})}};this._pc.setLocalDescription(t).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?i():this.once("_iceComplete",i))}).catch(t=>{this.destroy(xi(t,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(t=>{this.destroy(xi(t,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(t=>{t.mid||!t.sender.track||t.requested||(t.requested=!0,this.addTransceiver(t.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(t.sdp=wi(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const i=()=>{if(!this.destroyed){var i=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:i.type,sdp:i.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(t).then(()=>{this.destroyed||(this.trickle||this._iceComplete?i():this.once("_iceComplete",i))}).catch(t=>{this.destroy(xi(t,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(t=>{this.destroy(xi(t,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(xi("Connection failed.","ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(!this.destroyed){var t=this._pc.iceConnectionState,i=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,i),this.emit("iceStateChange",t,i),"connected"!==t&&"completed"!==t||(this._pcReady=!0,this._maybeReady()),"failed"===t&&this.destroy(xi("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),"closed"===t&&this.destroy(xi("Ice connection closed.","ERR_ICE_CONNECTION_CLOSED"))}}getStats(t){const i=t=>("[object Array]"===Object.prototype.toString.call(t.values)&&t.values.forEach(i=>{Object.assign(t,i)}),t);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{var e=[];n.forEach(t=>{e.push(i(t))}),t(null,e)},i=>t(i)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(!this.destroyed){var e=[];n.result().forEach(t=>{var n={};t.names().forEach(i=>{n[i]=t.stat(i)}),n.id=t.id,n.type=t.type,n.timestamp=t.timestamp,e.push(i(n))}),t(null,e)}},i=>t(i)):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const t=()=>{this.destroyed||this.getStats((i,n)=>{if(this.destroyed)return;i&&(n=[]);var e={},r={},o={},s=!1;n.forEach(t=>{"remotecandidate"!==t.type&&"remote-candidate"!==t.type||(e[t.id]=t),"localcandidate"!==t.type&&"local-candidate"!==t.type||(r[t.id]=t),"candidatepair"!==t.type&&"candidate-pair"!==t.type||(o[t.id]=t)});const a=t=>{s=!0;var i=r[t.localCandidateId];i&&(i.ip||i.address)?(this.localAddress=i.ip||i.address,this.localPort=Number(i.port)):i&&i.ipAddress?(this.localAddress=i.ipAddress,this.localPort=Number(i.portNumber)):"string"==typeof t.googLocalAddress&&(i=t.googLocalAddress.split(":"),this.localAddress=i[0],this.localPort=Number(i[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");var n=e[t.remoteCandidateId];n&&(n.ip||n.address)?(this.remoteAddress=n.ip||n.address,this.remotePort=Number(n.port)):n&&n.ipAddress?(this.remoteAddress=n.ipAddress,this.remotePort=Number(n.portNumber)):"string"==typeof t.googRemoteAddress&&(n=t.googRemoteAddress.split(":"),this.remoteAddress=n[0],this.remotePort=Number(n[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach(t=>{"transport"===t.type&&t.selectedCandidatePairId&&a(o[t.selectedCandidatePairId]),("googCandidatePair"===t.type&&"true"===t.googActiveConnection||("candidatepair"===t.type||"candidate-pair"===t.type)&&t.selected)&&a(t)}),s||Object.keys(o).length&&!Object.keys(r).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(i){return this.destroy(xi(i,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');var h=this._cb;this._cb=null,h(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(t,100)})};t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>65536||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"!==this._pc.signalingState||this._firstStable||(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):t.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(!this.destroyed){var i=t.data;i instanceof ArrayBuffer&&(i=w.from(i)),this.push(i)}}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var t=this._cb;this._cb=null,t(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach(i=>{this._debug("on track"),this.emit("track",t.track,i),this._remoteTracks.push({track:t.track,stream:i}),this._remoteStreams.some(t=>t.id===i.id)||(this._remoteStreams.push(i),mi(()=>{this.emit("stream",i)}))})}_debug(){var t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],vi.apply(null,t)}}ki.WEBRTC_SUPPORT=!!j(),ki.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}],sdpSemantics:"unified-plan"},ki.channelConfig={};var yi=ki;class Ci{}const Ei=class{constructor(i){t(this,i),this.recievedMessage=e(this,"recievedMessage",7),this.cam=!0,this.connected=!1,this.peerResult=""}watchHandler(t){if(this.connected){const i=new Ci;i.action="status",i.message=t,i.id=Date.now(),this.peer.send(JSON.stringify(i))}}async displayConnection(t){this.connectionString=btoa(t)}async startPeerShare(){this.peer=new yi({trickle:!1,initiator:this.cam}),this.peer.on("error",t=>console.error("error",t)),this.peer.on("signal",t=>{console.log("SIGNAL",JSON.stringify(t)),this.displayConnection(JSON.stringify(t))}),this.peer.on("connect",()=>{console.log("CONNECT"),this.connected=!0}),this.peer.on("data",t=>{console.log("peer data",t);const i=JSON.parse(t);if(this.peerResult=`${i.id} - ${i.action} - ${i.message}`,"take-photo"===i.action){console.log("do an event to take image"),this.recievedMessage.emit(i);const t=new Ci;t.action="take-photo-complete",t.message="Taken Photo Sent",t.id=Date.now(),this.peer.send(JSON.stringify(t))}if("toggle-detection"===i.action){console.log("do an event to toggle-detection"),this.recievedMessage.emit(i);const t=new Ci;t.action="toggle-detection-complete",t.message="Toggle Detection Sent",t.id=Date.now(),this.peer.send(JSON.stringify(t))}})}render(){return i(n,null,!this.peer&&i("div",null,i("ion-radio-group",{value:this.cam?"cam":"notcam",onIonChange:t=>{this.cam="cam"===t.detail.value}},i("ion-list-header",null,i("ion-label",null,"What type are you")),i("ion-item",null,i("ion-label",null,"Camera"),i("ion-radio",{slot:"start",value:"cam"})),i("ion-item",null,i("ion-label",null,"Remote"),i("ion-radio",{slot:"start",value:"notcam"}))),i("ion-button",{onClick:async()=>{this.startPeerShare()},expand:"block"},"Start Peer Thing")),this.peer&&i("div",null,i("ion-item",null,i("ion-label",null,"My Connection String:")),i("ion-item",null,i("p",{style:{overflowWrap:"anywhere",userSelect:"all"}},this.connectionString)),i("ion-item",null,i("ion-label",null,"Thier Connection String:")),i("ion-item",null,i("ion-label",null,"Paste:"),i("ion-textarea",{clearOnEdit:!0,value:this.peerConnectionString,onIonChange:t=>{this.peerConnectionString=t.detail.value}})),i("ion-button",{disabled:!this.peerConnectionString,onClick:async()=>{this.peer.signal(JSON.parse(atob(this.peerConnectionString)))},expand:"block"},"Connect To Peer"),this.connected&&i("div",null,i("ion-button",{onClick:async()=>{const t=new Ci;t.action="take-photo",t.message="Take Photo",t.id=Date.now(),this.peer.send(JSON.stringify(t))},expand:"block"},"Take Photo"),i("ion-button",{onClick:async()=>{const t=new Ci;t.action="toggle-detection",t.message="Toggle Detection",t.id=Date.now(),this.peer.send(JSON.stringify(t))},expand:"block"},"Toggle Detection"),i("p",null,"Latest Result: ",i("span",null,this.peerResult)))))}static get watchers(){return{status:["watchHandler"]}}};Ei.style=":host{display:block}";const Ri=class{constructor(i){t(this,i)}render(){const t=c(this);return i(n,{class:Object.assign(Object.assign({},C(this.color)),{[t]:!0})},i("slot",null))}};Ri.style={ios:":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px}",md:":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}"};const Ai=class{constructor(i){t(this,i),this.outline=!1}render(){const t=c(this);return i(n,{class:Object.assign(Object.assign({},C(this.color)),{[t]:!0,"chip-outline":this.outline,"ion-activatable":!0})},i("slot",null),"md"===t&&i("ion-ripple-effect",null))}};Ai.style={ios:":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:4px;margin-right:4px;margin-top:4px;margin-bottom:4px;padding-left:12px;padding-right:12px;padding-top:7px;padding-bottom:7px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:14px;line-height:1;cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(0, 0, 0, 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(0, 0, 0, 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(0, 0, 0, 0.08)}::slotted(ion-icon){font-size:20px}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(0, 0, 0, 0.54)}::slotted(ion-icon:first-child){margin-left:-4px;margin-right:8px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon:first-child){margin-left:unset;margin-right:unset;-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px}}::slotted(ion-icon:last-child){margin-left:8px;margin-right:-4px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon:last-child){margin-left:unset;margin-right:unset;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px}}::slotted(ion-avatar){width:24px;height:24px}::slotted(ion-avatar:first-child){margin-left:-8px;margin-right:8px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar:first-child){margin-left:unset;margin-right:unset;-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px}}::slotted(ion-avatar:last-child){margin-left:8px;margin-right:-8px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar:last-child){margin-left:unset;margin-right:unset;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px}}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}",md:":host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.12);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.87);border-radius:16px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:4px;margin-right:4px;margin-top:4px;margin-bottom:4px;padding-left:12px;padding-right:12px;padding-top:7px;padding-bottom:7px;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;height:32px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:14px;line-height:1;cursor:pointer;overflow:hidden;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:4px;margin-inline-end:4px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}:host(.ion-color){background:rgba(var(--ion-color-base-rgb), 0.08);color:var(--ion-color-shade)}:host(.ion-color:focus){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.ion-color.ion-activated){background:rgba(var(--ion-color-base-rgb), 0.16)}:host(.chip-outline){border-width:1px;border-style:solid}:host(.chip-outline){border-color:rgba(0, 0, 0, 0.32);background:transparent}:host(.chip-outline.ion-color){border-color:rgba(var(--ion-color-base-rgb), 0.32)}:host(.chip-outline:not(.ion-color):focus){background:rgba(0, 0, 0, 0.04)}:host(.chip-outline.ion-activated:not(.ion-color)){background:rgba(0, 0, 0, 0.08)}::slotted(ion-icon){font-size:20px}:host(:not(.ion-color)) ::slotted(ion-icon){color:rgba(0, 0, 0, 0.54)}::slotted(ion-icon:first-child){margin-left:-4px;margin-right:8px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon:first-child){margin-left:unset;margin-right:unset;-webkit-margin-start:-4px;margin-inline-start:-4px;-webkit-margin-end:8px;margin-inline-end:8px}}::slotted(ion-icon:last-child){margin-left:8px;margin-right:-4px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon:last-child){margin-left:unset;margin-right:unset;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-4px;margin-inline-end:-4px}}::slotted(ion-avatar){width:24px;height:24px}::slotted(ion-avatar:first-child){margin-left:-8px;margin-right:8px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar:first-child){margin-left:unset;margin-right:unset;-webkit-margin-start:-8px;margin-inline-start:-8px;-webkit-margin-end:8px;margin-inline-end:8px}}::slotted(ion-avatar:last-child){margin-left:8px;margin-right:-8px;margin-top:-4px;margin-bottom:-4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar:last-child){margin-left:unset;margin-right:unset;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:-8px;margin-inline-end:-8px}}:host(:focus){outline:none}:host(:focus){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-activated){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@media (any-hover: hover){:host(:hover){--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.16)}:host(.ion-color:hover){background:rgba(var(--ion-color-base-rgb), 0.12)}:host(.chip-outline:not(.ion-color):hover){background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.04)}}"};const Si=class{constructor(i){t(this,i),this.ionScrollStart=e(this,"ionScrollStart",7),this.ionScroll=e(this,"ionScroll",7),this.ionScrollEnd=e(this,"ionScrollEnd",7),this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.fullscreen=!1,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onClick(t){this.isScrolling&&(t.preventDefault(),t.stopPropagation())}shouldForceOverscroll(){const{forceOverscroll:t}=this,i=c(this);return void 0===t?"ios"===i&&d("ios"):t}resize(){this.fullscreen?r(()=>this.readDimensions()):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,o(this))}readDimensions(){const t=Oi(this.el),i=Math.max(this.el.offsetTop,0),n=Math.max(t.offsetHeight-i-this.el.offsetHeight,0);(i!==this.cTop||n!==this.cBottom)&&(this.cTop=i,this.cBottom=n,o(this))}onScroll(t){const i=Date.now(),n=!this.isScrolling;this.lastScroll=i,n&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,r(i=>{this.queued=!1,this.detail.event=t,Ti(this.detail,this.scrollEl,i,n),this.ionScroll.emit(this.detail)}))}getScrollElement(){return Promise.resolve(this.scrollEl)}scrollToTop(t=0){return this.scrollToPoint(void 0,0,t)}scrollToBottom(t=0){return this.scrollToPoint(void 0,this.scrollEl.scrollHeight-this.scrollEl.clientHeight,t)}scrollByPoint(t,i,n){return this.scrollToPoint(t+this.scrollEl.scrollLeft,i+this.scrollEl.scrollTop,n)}async scrollToPoint(t,i,n=0){const e=this.scrollEl;if(n<32)return null!=i&&(e.scrollTop=i),void(null!=t&&(e.scrollLeft=t));let r,o=0;const s=new Promise(t=>r=t),a=e.scrollTop,h=e.scrollLeft,l=null!=i?i-a:0,c=null!=t?t-h:0,d=t=>{const i=Math.min(1,(t-o)/n)-1,s=Math.pow(i,3)+1;0!==l&&(e.scrollTop=Math.floor(s*l+a)),0!==c&&(e.scrollLeft=Math.floor(s*c+h)),s<1?requestAnimationFrame(d):r()};return requestAnimationFrame(t=>{o=t,d(t)}),s}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{scrollX:t,scrollY:e}=this,r=c(this),o=this.shouldForceOverscroll(),s="ios"===r&&u.getBoolean("experimentalTransitionShadow",!0);return this.resize(),i(n,{class:Object.assign(Object.assign({},C(this.color)),{[r]:!0,"content-sizing":E("ion-popover",this.el),overscroll:o}),style:{"--offset-top":this.cTop+"px","--offset-bottom":this.cBottom+"px"}},i("div",{id:"background-content"}),i("main",{class:{"inner-scroll":!0,"scroll-x":t,"scroll-y":e,overscroll:(t||e)&&o},ref:t=>this.scrollEl=t,onScroll:this.scrollEvents?t=>this.onScroll(t):void 0},i("slot",null)),s?i("div",{class:"transition-effect"},i("div",{class:"transition-cover"}),i("div",{class:"transition-shadow"})):null,i("slot",{name:"fixed"}))}get el(){return s(this)}},Oi=t=>{const i=t.closest("ion-tabs");if(i)return i;return t.closest("ion-app,ion-page,.ion-page,page-inner")||(t=>t.parentElement?t.parentElement:t.parentNode&&t.parentNode.host?t.parentNode.host:null)(t)},Ti=(t,i,n,e)=>{const r=t.currentX,o=t.currentY,s=i.scrollLeft,a=i.scrollTop,h=n-t.currentTime;if(e&&(t.startTime=n,t.startX=s,t.startY=a,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=s,t.currentY=t.scrollTop=a,t.deltaX=s-t.startX,t.deltaY=a-t.startY,h>0&&h<100){const i=(a-o)/h;t.velocityX=(s-r)/h*.7+.3*t.velocityX,t.velocityY=.7*i+.3*t.velocityY}};Si.style=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.inner-scroll{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;will-change:scroll-position}.scroll-y{-ms-touch-action:pan-y;touch-action:pan-y;overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{-ms-touch-action:pan-x;touch-action:pan-x;overflow-x:var(--overflow);overscroll-behavior-x:contain}.scroll-x.scroll-y{-ms-touch-action:auto;touch-action:auto}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){contain:none}:host(.content-sizing) .inner-scroll{position:relative}.transition-effect{display:none;position:absolute;left:-100%;width:100%;height:100%;opacity:0;pointer-events:none}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;right:0;width:10px;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3MDgzRkQ5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3MDgzRkU5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTcwODNGQjlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTcwODNGQzlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmePEuQAAABNSURBVHjaYvz//z8DIxAwMDAwATGMhmFmPDQuOSZks0AMmoJBaQHjkPfB0Lfg/2gQjVow+HPy/yHvg9GiYjQfjMbBqAWjFgy/4hogwADYqwdzxy5BuwAAAABJRU5ErkJggg==);background-repeat:repeat-y;background-size:10px 16px}::slotted([slot=fixed]){position:absolute}';const Fi=class{constructor(i){t(this,i),this.ionInput=e(this,"ionInput",7),this.ionChange=e(this,"ionChange",7),this.ionBlur=e(this,"ionBlur",7),this.ionFocus=e(this,"ionFocus",7),this.ionStyle=e(this,"ionStyle",7),this.inputId="ion-input-"+_i++,this.didBlurAfterEdit=!1,this.hasFocus=!1,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.debounce=0,this.disabled=!1,this.name=this.inputId,this.readonly=!1,this.required=!1,this.spellcheck=!1,this.type="text",this.value="",this.onInput=t=>{const i=t.target;i&&(this.value=i.value||""),this.ionInput.emit(t)},this.onBlur=()=>{this.hasFocus=!1,this.focusChanged(),this.emitStyle(),this.ionBlur.emit()},this.onFocus=()=>{this.hasFocus=!0,this.focusChanged(),this.emitStyle(),this.ionFocus.emit()},this.onKeydown=t=>{this.shouldClearOnEdit()&&(this.didBlurAfterEdit&&this.hasValue()&&"Enter"!==t.key&&this.clearTextInput(),this.didBlurAfterEdit=!1)},this.clearTextInput=t=>{this.clearInput&&!this.readonly&&!this.disabled&&t&&(t.preventDefault(),t.stopPropagation()),this.value="",this.nativeInput&&(this.nativeInput.value="")}}debounceChanged(){this.ionChange=p(this.ionChange,this.debounce)}disabledChanged(){this.emitStyle()}valueChanged(){this.emitStyle(),this.ionChange.emit({value:null==this.value?this.value:this.value.toString()})}connectedCallback(){this.emitStyle(),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el}))}async setFocus(){this.nativeInput&&this.nativeInput.focus()}getInputElement(){return Promise.resolve(this.nativeInput)}shouldClearOnEdit(){const{type:t,clearOnEdit:i}=this;return void 0===i?"password"===t:i}getValue(){return"number"==typeof this.value?this.value.toString():(this.value||"").toString()}emitStyle(){this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":null!=this.placeholder,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled})}focusChanged(){!this.hasFocus&&this.shouldClearOnEdit()&&this.hasValue()&&(this.didBlurAfterEdit=!0)}hasValue(){return this.getValue().length>0}render(){const t=c(this),e=this.getValue(),r=this.inputId+"-lbl",o=g(this.el);return o&&(o.id=r),i(n,{"aria-disabled":this.disabled?"true":null,class:Object.assign(Object.assign({},C(this.color)),{[t]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus})},i("input",{class:"native-input",ref:t=>this.nativeInput=t,"aria-labelledby":r,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellCheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:e,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown}),this.clearInput&&!this.readonly&&!this.disabled&&i("button",{type:"button",class:"input-clear-icon",tabindex:"-1",onTouchStart:this.clearTextInput,onMouseDown:this.clearTextInput}))}get el(){return s(this)}static get watchers(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}};let _i=0;Fi.style={ios:".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:.5;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--background:transparent;--color:initial;display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;width:100%;padding:0 !important;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item.sc-ion-input-ios-h:not(.item-label),ion-item:not(.item-label) .sc-ion-input-ios-h{--padding-start:0}.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.native-input.sc-ion-input-ios{border-radius:var(--border-radius);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.native-input.sc-ion-input-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.native-input[disabled].sc-ion-input-ios{opacity:0.4}.cloned-input.sc-ion-input-ios{left:0;top:0;position:absolute;pointer-events:none}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}.input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.has-focus.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.sc-ion-input-ios-h{pointer-events:none}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.sc-ion-input-ios-h{--padding-top:10px;--padding-end:10px;--padding-bottom:10px;--padding-start:0;font-size:inherit}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios{background-image:url(\"data:image/svg+xml;charset=utf-8,<svg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'><path%20fill='var(--ion-color-step-600,%20%23666666)'%20d='M403.1,108.9c-81.2-81.2-212.9-81.2-294.2,0s-81.2,212.9,0,294.2c81.2,81.2,212.9,81.2,294.2,0S484.3,190.1,403.1,108.9z%20M352,340.2L340.2,352l-84.4-84.2l-84,83.8L160,339.8l84-83.8l-84-83.8l11.8-11.8l84,83.8l84.4-84.2l11.8,11.8L267.6,256L352,340.2z'/></svg>\");width:30px;height:30px;background-size:18px}",md:".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:.5;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--background:transparent;--color:initial;display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;width:100%;padding:0 !important;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item.sc-ion-input-md-h:not(.item-label),ion-item:not(.item-label) .sc-ion-input-md-h{--padding-start:0}.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.native-input.sc-ion-input-md{border-radius:var(--border-radius);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.native-input.sc-ion-input-md{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.native-input[disabled].sc-ion-input-md{opacity:0.4}.cloned-input.sc-ion-input-md{left:0;top:0;position:absolute;pointer-events:none}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}.input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.has-focus.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.sc-ion-input-md-h{pointer-events:none}.has-focus.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px;font-size:inherit}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md{background-image:url(\"data:image/svg+xml;charset=utf-8,<svg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'><polygon%20fill='var(--ion-color-step-600,%20%23666666)'%20points='405,136.798%20375.202,107%20256,226.202%20136.798,107%20107,136.798%20226.202,256%20107,375.202%20136.798,405%20256,285.798%20375.202,405%20405,375.202%20285.798,256'/></svg>\");width:30px;height:30px;background-size:22px}"};const Ni=(t,i)=>{if(1===t.nodeType)return(t.tagName===i.toUpperCase()?[t]:Array.from(t.querySelectorAll(i))).find(i=>i.value===t.value)},zi=class{constructor(i){t(this,i),this.ionChange=e(this,"ionChange",7),this.ionCancel=e(this,"ionCancel",7),this.ionFocus=e(this,"ionFocus",7),this.ionBlur=e(this,"ionBlur",7),this.ionStyle=e(this,"ionStyle",7),this.inputId="ion-sel-"+Gi++,this.didInit=!1,this.isExpanded=!1,this.disabled=!1,this.cancelText="Cancel",this.okText="OK",this.name=this.inputId,this.multiple=!1,this.interface="alert",this.interfaceOptions={},this.onClick=t=>{this.setFocus(),this.open(t)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()}}disabledChanged(){this.emitStyle()}valueChanged(){this.emitStyle(),this.didInit&&this.ionChange.emit({value:this.value})}async connectedCallback(){this.updateOverlayOptions(),this.emitStyle(),this.mutationO=((t,i,n)=>{const e=new MutationObserver(t=>{n(((t,i)=>{let n;t.forEach(t=>{for(let e=0;e<t.addedNodes.length;e++)n=Ni(t.addedNodes[e],i)||n})})(t,"ion-select-option"))});return e.observe(t,{childList:!0,subtree:!0}),e})(this.el,0,async()=>{this.updateOverlayOptions()})}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0)}componentDidLoad(){this.didInit=!0}async open(t){if(this.disabled||this.isExpanded)return;const i=this.overlay=await this.createOverlay(t);return this.isExpanded=!0,i.onDidDismiss().then(()=>{this.overlay=void 0,this.isExpanded=!1,this.setFocus()}),await i.present(),i}createOverlay(t){let i=this.interface;return"action-sheet"!==i&&"popover"!==i||!this.multiple||(console.warn(`Select interface cannot be "${i}" with a multi-value select. Using the "alert" interface instead.`),i="alert"),"popover"!==i||t||(console.warn('Select interface cannot be a "popover" without passing an event. Using the "alert" interface instead.'),i="alert"),"popover"===i?this.openPopover(t):"action-sheet"===i?this.openActionSheet():this.openAlert()}updateOverlayOptions(){const t=this.overlay;if(!t)return;const i=this.childOpts,n=this.value;switch(this.interface){case"action-sheet":t.buttons=this.createActionSheetButtons(i,n);break;case"popover":const e=t.querySelector("ion-select-popover");e&&(e.options=this.createPopoverOptions(i,n));break;case"alert":t.inputs=this.createAlertInputs(i,this.multiple?"checkbox":"radio",n)}}createActionSheetButtons(t,i){const n=t.map(t=>{const n=Ii(t);return{role:ji(n,i,this.compareWith)?"selected":"",text:t.textContent,handler:()=>{this.value=n}}});return n.push({text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}}),n}createAlertInputs(t,i,n){return t.map(t=>{const e=Ii(t);return{type:i,label:t.textContent||"",value:e,checked:ji(e,n,this.compareWith),disabled:t.disabled}})}createPopoverOptions(t,i){return t.map(t=>{const n=Ii(t);return{text:t.textContent||"",value:n,checked:ji(n,i,this.compareWith),disabled:t.disabled,handler:()=>{this.value=n,this.close()}}})}async openPopover(t){const i=this.interfaceOptions,n=c(this),e=this.value,r=Object.assign(Object.assign({mode:n},i),{component:"ion-select-popover",cssClass:["select-popover",i.cssClass],event:t,componentProps:{header:i.header,subHeader:i.subHeader,message:i.message,value:e,options:this.createPopoverOptions(this.childOpts,e)}});return x.create(r)}async openActionSheet(){const t=c(this),i=this.interfaceOptions,n=Object.assign(Object.assign({mode:t},i),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",i.cssClass]});return k.create(n)}async openAlert(){const t=this.getLabel(),i=t?t.textContent:null,n=this.interfaceOptions,e=this.multiple?"checkbox":"radio",r=c(this),o=Object.assign(Object.assign({mode:r},n),{header:n.header?n.header:i,inputs:this.createAlertInputs(this.childOpts,e,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}},{text:this.okText,handler:t=>{this.value=t}}],cssClass:["select-alert",n.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]});return y.create(o)}close(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}getLabel(){return g(this.el)}hasValue(){return""!==this.getText()}get childOpts(){return Array.from(this.el.querySelectorAll("ion-select-option"))}getText(){const t=this.selectedText;return null!=t&&""!==t?t:Li(this.childOpts,this.value,this.compareWith)}setFocus(){this.buttonEl&&this.buttonEl.focus()}emitStyle(){this.ionStyle.emit({interactive:!0,select:!0,"has-placeholder":null!=this.placeholder,"has-value":this.hasValue(),"interactive-disabled":this.disabled,"select-disabled":this.disabled})}render(){const{placeholder:t,name:e,disabled:r,isExpanded:o,value:s,el:a}=this,h=c(this),l=this.inputId+"-lbl",d=g(a);d&&(d.id=l);let u=!1,p=this.getText();""===p&&null!=t&&(p=t,u=!0),f(!0,a,e,Di(s),r);const b={"select-text":!0,"select-placeholder":u},m=u?"placeholder":"text";return i(n,{onClick:this.onClick,role:"combobox","aria-haspopup":"dialog","aria-disabled":r?"true":null,"aria-expanded":""+o,"aria-labelledby":l,class:{[h]:!0,"in-item":E("ion-item",a),"select-disabled":r}},i("div",{class:b,part:m},p),i("div",{class:"select-icon",role:"presentation",part:"icon"},i("div",{class:"select-icon-inner",part:"icon-inner"})),i("button",{type:"button",onFocus:this.onFocus,onBlur:this.onBlur,disabled:r,ref:t=>this.buttonEl=t}))}get el(){return s(this)}static get watchers(){return{disabled:["disabledChanged"],placeholder:["disabledChanged"],value:["valueChanged"]}}},ji=(t,i,n)=>void 0!==t&&(Array.isArray(t)?t.some(t=>Mi(t,i,n)):Mi(t,i,n)),Ii=t=>{const i=t.value;return void 0===i?t.textContent||"":i},Di=t=>{if(null!=t)return Array.isArray(t)?t.join(","):t.toString()},Mi=(t,i,n)=>"function"==typeof n?n(t,i):"string"==typeof n?t[n]===i[n]:Array.isArray(i)?i.includes(t):t===i,Li=(t,i,n)=>void 0===i?"":Array.isArray(i)?i.map(i=>Pi(t,i,n)).filter(t=>null!==t).join(", "):Pi(t,i,n)||"",Pi=(t,i,n)=>{const e=t.find(t=>Mi(Ii(t),i,n));return e?e.textContent:null};let Gi=0;zi.style={ios:":host{--placeholder-color:currentColor;--placeholder-opacity:0.33;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);overflow:hidden;z-index:2}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}:host(.in-item){position:static;max-width:45%}:host(.select-disabled){opacity:0.4;pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}[dir=rtl] button,:host-context([dir=rtl]) button{left:unset;right:unset;right:0}button::-moz-focus-inner{border:0}.select-icon{position:relative;opacity:0.33}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.select-icon-inner{left:5px;top:50%;margin-top:-3px;position:absolute;width:0;height:0;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;color:currentColor;pointer-events:none}[dir=rtl] .select-icon-inner,:host-context([dir=rtl]) .select-icon-inner{left:unset;right:unset;right:5px}:host{--padding-top:10px;--padding-end:10px;--padding-bottom:10px;--padding-start:20px}.select-icon{width:12px;height:18px}",md:":host{--placeholder-color:currentColor;--placeholder-opacity:0.33;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);overflow:hidden;z-index:2}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}:host(.in-item){position:static;max-width:45%}:host(.select-disabled){opacity:0.4;pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}button{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}[dir=rtl] button,:host-context([dir=rtl]) button{left:unset;right:unset;right:0}button::-moz-focus-inner{border:0}.select-icon{position:relative;opacity:0.33}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.select-icon-inner{left:5px;top:50%;margin-top:-3px;position:absolute;width:0;height:0;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;color:currentColor;pointer-events:none}[dir=rtl] .select-icon-inner,:host-context([dir=rtl]) .select-icon-inner{left:unset;right:unset;right:5px}:host{--padding-top:10px;--padding-end:0;--padding-bottom:11px;--padding-start:16px}.select-icon{width:19px;height:19px}"};const Ui=class{constructor(i){t(this,i),this.inputId="ion-selopt-"+Zi++,this.disabled=!1}render(){return i(n,{role:"option",id:this.inputId,class:c(this)})}get el(){return s(this)}};let Zi=0;Ui.style=":host{display:none}";const Yi=class{constructor(i){t(this,i),this.ionChange=e(this,"ionChange",7),this.ionFocus=e(this,"ionFocus",7),this.ionBlur=e(this,"ionBlur",7),this.ionStyle=e(this,"ionStyle",7),this.inputId="ion-tg-"+Ji++,this.lastDrag=0,this.activated=!1,this.name=this.inputId,this.checked=!1,this.disabled=!1,this.value="on",this.onClick=()=>{this.lastDrag+300<Date.now()&&(this.checked=!this.checked)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()}}checkedChanged(t){this.ionChange.emit({checked:t,value:this.value})}disabledChanged(){this.emitStyle(),this.gesture&&this.gesture.enable(!this.disabled)}async connectedCallback(){this.gesture=(await __sc_import_app("./p-92c53699.js")).createGesture({el:this.el,gestureName:"toggle",gesturePriority:100,threshold:5,passive:!1,onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.disabledChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentWillLoad(){this.emitStyle()}emitStyle(){this.ionStyle.emit({"interactive-disabled":this.disabled})}onStart(){this.activated=!0,this.setFocus()}onMove(t){Bi(document,this.checked,t.deltaX,-10)&&(this.checked=!this.checked,R())}onEnd(t){this.activated=!1,this.lastDrag=Date.now(),t.event.preventDefault(),t.event.stopImmediatePropagation()}getValue(){return this.value||""}setFocus(){this.buttonEl&&this.buttonEl.focus()}render(){const{inputId:t,disabled:e,checked:r,activated:o,color:s,el:a}=this,h=c(this),l=t+"-lbl",d=g(a),u=this.getValue();return d&&(d.id=l),f(!0,a,this.name,r?u:"",e),i(n,{onClick:this.onClick,role:"checkbox","aria-disabled":e?"true":null,"aria-checked":""+r,"aria-labelledby":l,class:Object.assign(Object.assign({},C(s)),{[h]:!0,"in-item":E("ion-item",a),"toggle-activated":o,"toggle-checked":r,"toggle-disabled":e,interactive:!0})},i("div",{class:"toggle-icon"},i("div",{class:"toggle-inner"})),i("button",{type:"button",onFocus:this.onFocus,onBlur:this.onBlur,disabled:e,ref:t=>this.buttonEl=t}))}get el(){return s(this)}static get watchers(){return{checked:["checkedChanged"],disabled:["disabledChanged"]}}},Bi=(t,i,n,e)=>{const r="rtl"===t.dir;return i?!r&&e>n||r&&-e<n:!r&&-e<n||r&&e>n};let Ji=0;Yi.style={ios:":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;outline:none;contain:content;cursor:pointer;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}button{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}[dir=rtl] button,:host-context([dir=rtl]) button{left:unset;right:unset;right:0}button::-moz-focus-inner{border:0}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.088);--background-checked:var(--ion-color-primary, #3880ff);--handle-background:#ffffff;--handle-background-checked:#ffffff;--border-radius:16px;--handle-border-radius:14px;-webkit-box-sizing:content-box;box-sizing:content-box;position:relative;width:51px;height:32px;contain:strict}:host(.ion-color.toggle-checked) .toggle-icon{background:var(--ion-color-base)}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:background-color 300ms;transition:background-color 300ms;background:var(--background);overflow:hidden;pointer-events:none}.toggle-inner{left:2px;top:2px;border-radius:var(--handle-border-radius);position:absolute;width:28px;height:28px;-webkit-transition:width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms, -webkit-transform 300ms;transition:width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms, -webkit-transform 300ms;transition:transform 300ms, width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms;transition:transform 300ms, width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms, -webkit-transform 300ms;background:var(--handle-background);-webkit-box-shadow:0 3px 12px rgba(0, 0, 0, 0.16), 0 3px 1px rgba(0, 0, 0, 0.1);box-shadow:0 3px 12px rgba(0, 0, 0, 0.16), 0 3px 1px rgba(0, 0, 0, 0.1);will-change:transform;contain:strict}[dir=rtl] .toggle-inner,:host-context([dir=rtl]) .toggle-inner{left:unset;right:unset;right:2px}:host(.toggle-checked) .toggle-icon{background:var(--background-checked)}:host(.toggle-activated) .toggle-icon::before,:host(.toggle-checked) .toggle-icon::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-checked) .toggle-inner{-webkit-transform:translate3d(19px,  0,  0);transform:translate3d(19px,  0,  0);background:var(--handle-background-checked)}:host-context([dir=rtl]):host(.toggle-checked) .toggle-inner,:host-context([dir=rtl]).toggle-checked .toggle-inner{-webkit-transform:translate3d(calc(-1 * 19px),  0,  0);transform:translate3d(calc(-1 * 19px),  0,  0)}:host(.toggle-activated.toggle-checked) .toggle-inner::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated) .toggle-inner{width:34px}:host(.toggle-activated.toggle-checked) .toggle-inner{left:-4px}:host-context([dir=rtl]):host(.toggle-activated.toggle-checked) .toggle-inner,:host-context([dir=rtl]).toggle-activated.toggle-checked .toggle-inner{left:unset;right:unset;right:-4px}:host(.toggle-disabled){opacity:0.3}:host(.in-item[slot]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:20px;padding-right:10px;padding-top:6px;padding-bottom:5px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot]){padding-left:unset;padding-right:unset;-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:10px;padding-inline-end:10px}}:host(.in-item[slot=start]){padding-left:0;padding-right:16px;padding-top:6px;padding-bottom:5px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){padding-left:unset;padding-right:unset;-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:16px;padding-inline-end:16px}}",md:":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;outline:none;contain:content;cursor:pointer;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}button{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}[dir=rtl] button,:host-context([dir=rtl]) button{left:unset;right:unset;right:0}button::-moz-focus-inner{border:0}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.3);--background-checked:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.5);--handle-background:#ffffff;--handle-background-checked:var(--ion-color-primary, #3880ff);--border-radius:14px;--handle-border-radius:50%;padding-left:12px;padding-right:12px;padding-top:12px;padding-bottom:12px;-webkit-box-sizing:content-box;box-sizing:content-box;position:relative;width:36px;height:14px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}:host(.ion-color.toggle-checked) .toggle-icon{background:rgba(var(--ion-color-base-rgb), 0.5)}:host(.ion-color.toggle-checked) .toggle-inner{background:var(--ion-color-base)}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;-webkit-transition:background-color 160ms;transition:background-color 160ms;background:var(--background);pointer-events:none}.toggle-inner{left:0;top:-3px;border-radius:var(--handle-border-radius);position:absolute;width:20px;height:20px;-webkit-transition-duration:160ms;transition-duration:160ms;-webkit-transition-property:background-color, -webkit-transform;transition-property:background-color, -webkit-transform;transition-property:transform, background-color;transition-property:transform, background-color, -webkit-transform;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);background:var(--handle-background);-webkit-box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);will-change:transform, background-color;contain:strict}[dir=rtl] .toggle-inner,:host-context([dir=rtl]) .toggle-inner{left:unset;right:unset;right:0}:host(.toggle-checked) .toggle-icon{background:var(--background-checked)}:host(.toggle-checked) .toggle-inner{-webkit-transform:translate3d(16px,  0,  0);transform:translate3d(16px,  0,  0);background:var(--handle-background-checked)}:host-context([dir=rtl]):host(.toggle-checked) .toggle-inner,:host-context([dir=rtl]).toggle-checked .toggle-inner{-webkit-transform:translate3d(calc(-1 * 16px),  0,  0);transform:translate3d(calc(-1 * 16px),  0,  0)}:host(.toggle-disabled){opacity:0.3}:host(.in-item[slot]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:16px;padding-right:0;padding-top:12px;padding-bottom:12px;cursor:pointer}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot]){padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:0;padding-inline-end:0}}:host(.in-item[slot=start]){padding-left:2px;padding-right:18px;padding-top:12px;padding-bottom:12px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){padding-left:unset;padding-right:unset;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:18px;padding-inline-end:18px}}"};export{A as app_header,Ei as app_remote,Ri as ion_badge,Ai as ion_chip,Si as ion_content,Fi as ion_input,zi as ion_select,Ui as ion_select_option,Yi as ion_toggle}