import{w as a,B as i}from"./p-cd08f63e.js";const e="ionViewWillLeave",n="ionViewDidLeave",o="ionViewWillUnload",s=i=>new Promise((e,n)=>{a(()=>{t(i),r(i).then(a=>{a.animation&&a.animation.destroy(),c(i),e(a)},a=>{c(i),n(a)})})}),t=a=>{const i=a.enteringEl,e=a.leavingEl;V(i,e,a.direction),a.showGoBack?i.classList.add("can-go-back"):i.classList.remove("can-go-back"),f(i,!1),e&&f(e,!1)},r=async a=>{const e=await d(a);return e&&i.isBrowser?p(e,a):w(a)},c=a=>{const i=a.leavingEl;a.enteringEl.classList.remove("ion-page-invisible"),void 0!==i&&i.classList.remove("ion-page-invisible")},d=async a=>{if(a.leavingEl&&a.animated&&0!==a.duration)return a.animationBuilder?a.animationBuilder:"ios"===a.mode?(await __sc_import_app("./p-4e6aa5a4.js")).iosTransitionAnimation:(await __sc_import_app("./p-1dde310e.js")).mdTransitionAnimation},p=async(a,i)=>{await l(i,!0);const e=a(i.baseEl,i);v(i.enteringEl,i.leavingEl);const n=await u(e,i);return i.progressCallback&&i.progressCallback(void 0),n&&b(i.enteringEl,i.leavingEl),{hasCompleted:n,animation:e}},w=async a=>{const i=a.enteringEl,e=a.leavingEl;return await l(a,!1),v(i,e),b(i,e),{hasCompleted:!0}},l=async(a,i)=>{const e=(void 0!==a.deepWait?a.deepWait:i)?[_(a.enteringEl),_(a.leavingEl)]:[y(a.enteringEl),y(a.leavingEl)];await Promise.all(e),await m(a.viewIsReady,a.enteringEl)},m=async(a,i)=>{a&&await a(i)},u=(a,i)=>{const e=i.progressCallback,n=new Promise(i=>{a.onFinish(a=>i(1===a))});return e?(a.progressStart(!0),e(a)):a.play(),n},v=(a,i)=>{g(i,"ionViewWillLeave"),g(a,"ionViewWillEnter")},b=(a,i)=>{g(a,"ionViewDidEnter"),g(i,"ionViewDidLeave")},g=(a,i)=>{if(a){const e=new CustomEvent(i,{bubbles:!1,cancelable:!1});a.dispatchEvent(e)}},y=a=>a&&a.componentOnReady?a.componentOnReady():Promise.resolve(),_=async a=>{const i=a;if(i){if(null!=i.componentOnReady&&null!=await i.componentOnReady())return;await Promise.all(Array.from(i.children).map(_))}},f=(a,i)=>{i?(a.setAttribute("aria-hidden","true"),a.classList.add("ion-page-hidden")):(a.hidden=!1,a.removeAttribute("aria-hidden"),a.classList.remove("ion-page-hidden"))},V=(a,i,e)=>{void 0!==a&&(a.style.zIndex="back"===e?"99":"101"),void 0!==i&&(i.style.zIndex="100")},h=a=>{if(a.classList.contains("ion-page"))return a;return a.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||a};export{o as L,e as a,n as b,_ as d,h as g,g as l,f as s,s as t}